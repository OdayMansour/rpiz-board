{
  "name": "sparks",
  "id": "FaJD9BrFGvxoSQ2Rg",
  "sources": {
    "main": "numSparks = 20;\nfriction = 1 / pixelCount / 2;\nsparks = array(numSparks);\nsparkX = array(numSparks);\npixels = array(pixelCount);\n\nexport function beforeRender(delta) {\n  delta *= .1;\n  for (i = 0; i < pixelCount; i++)\n    pixels[i] = 0;\n  for (i = 0; i < numSparks; i++) {\n    if (abs(sparks[i]) <= .001) {\n      sparks[i] = .3 + random(.4);\n      sparkX[i] = pixelCount/2;\n      if (random(1) > .5) {\n        sparks[i] *= -1\n      }\n    }\n    sparks[i] -= friction * delta * (sparks[i] > 0 ? 1 : -1)\n    sparkX[i] += sparks[i]  * delta;\n    if (sparkX[i] > pixelCount || sparkX[i] < 0) {\n      sparkX[i] = 0;\n      sparks[i] = 0;\n    }\n    pixels[sparkX[i]] += abs(sparks[i]);\n  }\n}\n\nexport function render(index) {\n  v = pixels[index];\n  v = v*v\n  hsv(.63, 1 - v, v)\n}\n"
  },
  "preview": "/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAZKADAAQAAAABAAAAlgAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgAlgBkAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAQEBAQEBAgEBAgMCAgIDBAMDAwMEBQQEBAQEBQYFBQUFBQUGBgYGBgYGBgcHBwcHBwgICAgICQkJCQkJCQkJCf/bAEMBAQEBAgICBAICBAkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCf/dAAQAB//aAAwDAQACEQMRAD8A/wA/+iiigAooooAKUAngVctLGS8SZ0YKIYzId2RkAgEA9AeeMkA9ASxAPVJq9vpSTQaGzw2pYZnGPPcq6ybEkCodoZIzuYZUrvATeYzsqL3kS5pEo8L2GiwXFz4km3z2kkatZwMpORPJFLHJNkqjAREqFEhYMrAbQxEd94zukjWw8OD+z7WIoVMOY5HZIzHvYgk7m3yE/MThyhZlVAOKkcO5dVCAkkKM4HsMkn8yaZVQr8ukUJwV7skllknkMshyT/ToAOwHYdqfa3VxZXCXdo5jkjOVYdQagorDmd7lcqtYti6dWJjGF3B9nVdwzjIbIIGT1zwTSf6PLgf6o8DIyV7DJHJHcnGeeAAKq0oOK6JV+b4xOJbj0++nXdBC8g45QFhyM4yM889O1Sf2Tqv/AD7S/wDfDf4Vn0VhdCtLuf/Q/wA/+iiigAp6KznC44BPJx0+v+TTKcT2FaQS+Jgyw93K9sLQYVAdzY/ibnBb1IBwOw5wMkk1iSaSilKo3uwCiinhQPvU6dNy2ARUdztQEnBPHoBk/kKTHcVYeaSRSiAIhP3V6d8e5xkgE5OOM1s20Wmaptty0drMNv75iUjI+d5WdMN0yAvl4JCgLGztxp7JK1+pKb6nO0VfvNMvrBVkuoyqOcBgQylgquV3DI3KHXcudyk4YA8VQrnKTCiiigD/0f8AP/ooooAKKKKAClAzzSUpOaqNuoDuO1HTk0sYd2EcY3M3AA5JJqdYoI8PdNu6HYhBJHynluQMgn1IIwQK6vaq39WEVSa17rTWib5vk3k+XuIZWGQo2yr8rY5yeAMdc8VQW6kjyIMR7gAdvX7pU8nJwwJ3AHBz0xgC3bS31iBPZuHjVkkZcB0JQgjzI2GCAWx8ylScgZFRCrvzaikn0Gw3Oo28MsEZfy3jAkXkDyywZd2P4d5VgPultpwTirV6ukXkRvLDFrITIWtyWYffGwRsRnG1sYdifkYlssq1LbXmnSod4+zSRoSF+Z4ZSFjG0jO+NpNrlnViCWCgRpkihJYFnb7OysgBO/cAp2hskFtuC20lVIDHgAEkVcUpXtsiErPUpTwTW0z21yjRyRsVZWBDKwOCCDyCD1FRVcub66vPL+1NvMSCNSQM7V+6CcZOBwM5woCjgACruPt+X/1qx5YdW/u/4Jpqf//S/wA/+iiigAoopQO5qoxb0QCVMYxDIomwwwrEKwPBAPUZAOD9QeCM0hkAUxxjCnBOcE5Ax1xkA5PH0znGajx3NXFdtREpnfZ5aYRSMEL36dT1PIBx0B6AU9rfyuJztPzZUcsCOPmHGMnj1HXHTMSSMhyhK8EcdcHgj8RxTfr+VXGCerdyeW2xba62ZSzXy1ORnqxB3Dlv91sHGARjIzVM0Z7UE55qZzTVirFl7oz5N0u9jk7+jZO48n+LJOSSCeAAQKVY3Ul7RiwwenDY+bOR/ugk4yADyaqUVEZtO4pRuWZZvOIbCqec4HXJJzjoOuOABgdKiz7j8v8A61Oknkmkaac+Y7kszMSSSeSSe5Jpm5f7o/X/ABr0o43T4vz/AMw5Uf/T/wA/+iiigApeTSUVSl0AdwKbRRTlO+gCg4pKKuvYy2zAX4MGQrBWHzlXCspCnHBVgyk4BHQ0RTlohN2KiI8jiOMFmY4AHJJNJjuK3LLXrnSSkmjqtvKhVvNwGk3KySAhiPlw6AjaAQMgkgnORKIAw8hiRgH5hg5wMjgnocgHuOcDoNfZR73Em+pDRSnOeaSsJKzsUFFFFID/1P8AP/ooooAKKKKEgCnBSaTgUEk9a2iox+L+v6/qwi7Z6hdabJ5+nt5cnylZABvQqyuGRuqMGUYZSGxkZwSDRpyI8jiOMFmY4AHJJNTpHDGQ1wdw4O1CMkcH73IGQT6kEYIqZNydxcyWhWq/BftDJ52wbwAAygKQApXBGNpB43gqS2OvJzAtzJHHshATjBZfvH7wPPUZDYIGARjIzzUj3kkoAuMSbQQN3XlQo+YYJCgDaCcD0wSDVOK3vqMeLMTLmzcSkuVEeCJMZUKcdDuLYAVmPByMYJomrRiglYfZW2lmACOQCMk4+bhSAMZJ28npgZpXlkDhL1C3Cn5uG24XGD6bQAM5AB4FOTTSQNsp0VfFtZycx3KoMDiRWBzgFvuhxgHIBzkgZwM4pfsdv/z9xflJ/wDEVlyk86P/1f8AP/ooooAKKKUDPFNK+iASlx60cCkq7JbgSmTBZYcqrcYzk4zkAnjPamIjyOI4wWZjgAckk0mO5qwVQRguQnHQcsfvYzzgcjB6cYODVcresiG7LQQRxR4ads9DtU844PJ5AyCfUgjBFaDXenXsSrexeTKkYUSwgYbYr43xkgFmOxS6lcKCxV3JJrG6AQJaoIgAQSCS7AlvvMf9ltpC7VIAyM8mtJ5bndGu3OcjPHXjGeQMepP19L9hKyaCPmLJA8Y3jDJ/eXp1OPcZwcA4OO1OS7mWJbdjviViwjbJUFtu4gdi20AkYJAxmmkT2r4YMjFc4OQdrjP5EH8QfShjDJl9vl4UABckEjAOcnIzyT78AAdI5U/gGl0ZLGtgy5meSM8cBQ/bk5LL3zxjj1NSeXpX/PaX/v0v/wAcqgRikpckuwuV9z//1v8AP/ooooAKKKKACnAAdaQYHNJW0Wo6/wBf1/WgDtx7VKkcXlO8r7WXG1QMlieuT0AA79c4GOpESMqkllDcEc+/fj0ptJzurvcQpOasMkLktbttHJ2uRkDk/e4BwAPQknAFVwM1amdZcBCWHo2NwHQDd3AUDHT2FXSpym7kyv0IGR42McgIKnBB4INJsJQuMYGB1559uv8An3pS7MArEsFGAD2HJ4/Ek0bAIxIrAkkjbzkYxz0xg54wc8HIHGW46Jf1/X9aDVxgYjocUu9vU0h5pKxc2tEyj//X/wA/+iiigAp6uVUqAPm4ORn349KZRTTsFgooopAFOxjr+VIDigDNaw8twDNXS9lLbqADFMGJJzlGXaMYGNytkHJyQcjhQvNdYpTE06oSikKzY4BYEgZ6ZIBx3ODUsi2sjMYTs5JAI4I+Y+5HGABz7tWtPmWq1ImyW+sLqwk8q7TGd21gQyOFYoWR1JV13KQGUlTjg1S69fzp7pJA22QeuO4ODjIIyDyOoqS3tprydbe1G6R+i8AkgZwM9SccDqTgAE1tKakrvfqv6/4cafYr59RmjI9BRuI6HFG9vU1i6kOv6f5FH//Q/wA/+iiigAooooAKKKKAHYwMmjtk0H7g+poP3B9TXWlb7rgbbW/kWs0dyxdbaQx7cnaJHVxlVyM52LlsjGOVYVhV02of8e+pf9fqfymrmazrK1mjKjJuKbHqcnHrTccZpU++PrQPuH6itV71PXz/AENC+t+rIq3UKTsoChmLA7R0HykZx0GeccdAKX7baf8APnF/31J/8VWbRWKry/pIlwR//9k="
}